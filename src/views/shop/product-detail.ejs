<%- include('../includes/head.ejs') %>
	<link rel="stylesheet" href="/css/product.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
	<link rel="stylesheet" href="/css/custom-bootstrap.css">
	</head>

	<body>
		<%- include('../includes/nav.ejs') %>
			<main class="container">
				<h1>
					<%= product.title %>
				</h1>
				<hr>
				<div class="row">
					<div class="col-8">
						<div class="d-flex product__summary">
							<div>
								<img src="<%= product.imageUrl %>" width="250px" alt="<%= product.title %>">
							</div>
							<div class="ms-3">
								<h2><%- include('../includes/product/price.ejs', {price: product.price, discountPrice:
										product.discountPrice}) %></h2>
								<p>
									<%= product.description %>
								</p>
								<%- include('../includes/product/add-to-card.ejs', {product, goTo: `/products/${product.id}` }) %>
							</div>
						</div>
					</div>
					<div class="col-4">
						<div class="product__details">
							<h3>Product Specs</h3>
							<% if(product.attributes?.length> 0) { %>
								<table class="table align-middle mb-0 bg-white" aria-describedby="tableDesc">
									<tbody>
										<% for(const [index, attributeValue] of product.attributes.entries()) { %>
											<tr>
												<th class="w-auto">
													<%= attributeValue.displayName %>
												</th>
												<td>
													<%= attributeValue.value %>
												</td>
											</tr>
											<% } %>
									</tbody>
								</table>
								<% } else { %>
									<div class="product__details-blank">
										<p>Product has no specs</p>
									</div>
									<% } %>
						</div>
					</div>
				</div>
			</main>
			<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
				integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
				crossorigin="anonymous"></script>
			<%- include('../includes/end.ejs') %>